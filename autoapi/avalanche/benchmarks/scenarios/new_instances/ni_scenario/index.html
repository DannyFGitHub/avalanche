<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>avalanche.benchmarks.scenarios.new_instances.ni_scenario &mdash; Avalanche 0.1 documentation</title>
      <link rel="stylesheet" href="../../../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../../_static/css/mystyle.css" type="text/css" />
      <link rel="stylesheet" href="../../../../../../_static/graphviz.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../../../../" id="documentation_options" src="../../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../../_static/jquery.js"></script>
        <script src="../../../../../../_static/underscore.js"></script>
        <script src="../../../../../../_static/doctools.js"></script>
    <script src="../../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../../genindex/" />
    <link rel="search" title="Search" href="../../../../../../search/" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../../../">
            <img src="../../../../../../_static/avalanche_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Avalanche API:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../../../">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../../"><code class="xref py py-mod docutils literal notranslate"><span class="pre">avalanche</span></code></a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../../../../#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../../../"><code class="xref py py-mod docutils literal notranslate"><span class="pre">avalanche.benchmarks</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../evaluation/"><code class="xref py py-mod docutils literal notranslate"><span class="pre">avalanche.evaluation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../logging/"><code class="xref py py-mod docutils literal notranslate"><span class="pre">avalanche.logging</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../models/"><code class="xref py py-mod docutils literal notranslate"><span class="pre">avalanche.models</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../training/"><code class="xref py py-mod docutils literal notranslate"><span class="pre">avalanche.training</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../#submodules">Submodules</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../core/"><code class="xref py py-mod docutils literal notranslate"><span class="pre">avalanche.core</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../#package-contents">Package Contents</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../#avalanche.__version__">__version__</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../../">Avalanche</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../../" class="icon icon-home"></a> &raquo;</li>
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">avalanche.benchmarks.scenarios.new_instances.ni_scenario</span></code></li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../../_sources/autoapi/avalanche/benchmarks/scenarios/new_instances/ni_scenario/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-avalanche.benchmarks.scenarios.new_instances.ni_scenario">
<span id="avalanche-benchmarks-scenarios-new-instances-ni-scenario"></span><h1><a class="reference internal" href="#module-avalanche.benchmarks.scenarios.new_instances.ni_scenario" title="avalanche.benchmarks.scenarios.new_instances.ni_scenario"><code class="xref py py-mod docutils literal notranslate"><span class="pre">avalanche.benchmarks.scenarios.new_instances.ni_scenario</span></code></a><a class="headerlink" href="#module-avalanche.benchmarks.scenarios.new_instances.ni_scenario" title="Permalink to this headline"></a></h1>
<section id="module-contents">
<h2>Module Contents<a class="headerlink" href="#module-contents" title="Permalink to this headline"></a></h2>
<section id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline"></a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario" title="avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NIScenario</span></code></a></p></td>
<td><p>This class defines a &quot;New Instance&quot; scenario.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIExperience" title="avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIExperience"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NIExperience</span></code></a></p></td>
<td><p>Defines a &quot;New Instances&quot; experience. It defines fields to obtain the</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">avalanche.benchmarks.scenarios.new_instances.ni_scenario.</span></span><span class="sig-name descname"><span class="pre">NIScenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">train_dataset</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">AvalancheDataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_dataset</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">AvalancheDataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_experiences</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_labels</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">balance_experiences</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_class_patterns_in_exp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_exp_assignment</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reproducibility_data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../../_modules/avalanche/benchmarks/scenarios/new_instances/ni_scenario/#NIScenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">GenericCLScenario['NIExperience']</span></code></p>
<p>This class defines a “New Instance” scenario.
Once created, an instance of this class can be iterated in order to obtain
the experience sequence under the form of instances of
<a class="reference internal" href="#avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIExperience" title="avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIExperience"><code class="xref py py-class docutils literal notranslate"><span class="pre">NIExperience</span></code></a>.</p>
<p>Instances of this class can be created using the constructor directly.
However, we recommend using facilities like
<a class="reference internal" href="../../../generators/#avalanche.benchmarks.generators.ni_scenario" title="avalanche.benchmarks.generators.ni_scenario"><code class="xref py py-func docutils literal notranslate"><span class="pre">avalanche.benchmarks.generators.ni_scenario()</span></code></a>.</p>
<p>Consider that every method from <a class="reference internal" href="#avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIExperience" title="avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIExperience"><code class="xref py py-class docutils literal notranslate"><span class="pre">NIExperience</span></code></a> used to retrieve
parts of the test set (past, current, future, cumulative) always return the
complete test set. That is, they behave as the getter for the complete test
set.</p>
<p>Creates a NIScenario instance given the training and test Datasets and
the number of experiences.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>train_dataset</strong> – The training dataset. The dataset must be an
instance of <code class="xref py py-class docutils literal notranslate"><span class="pre">AvalancheDataset</span></code>. For instance, one can
use the datasets from the torchvision package like that:
<code class="docutils literal notranslate"><span class="pre">train_dataset=AvalancheDataset(torchvision_dataset)</span></code>.</p></li>
<li><p><strong>test_dataset</strong> – The test dataset. The dataset must be a
subclass of <code class="xref py py-class docutils literal notranslate"><span class="pre">AvalancheDataset</span></code>. For instance, one can
use the datasets from the torchvision package like that:
<code class="docutils literal notranslate"><span class="pre">test_dataset=AvalancheDataset(torchvision_dataset)</span></code>.</p></li>
<li><p><strong>n_experiences</strong> – The number of experiences.</p></li>
<li><p><strong>task_labels</strong> – If True, each experience will have an ascending task
label. If False, the task label will be 0 for all the experiences.
Defaults to False.</p></li>
<li><p><strong>shuffle</strong> – If True, the patterns order will be shuffled. Defaults
to True.</p></li>
<li><p><strong>seed</strong> – If shuffle is True and seed is not None, the class order
will be shuffled according to the seed. When None, the current
PyTorch random number generator state will be used.
Defaults to None.</p></li>
<li><p><strong>balance_experiences</strong> – If True, pattern of each class will be
equally spread across all experiences. If False, patterns will be
assigned to experiences in a complete random way. Defaults to False.</p></li>
<li><p><strong>min_class_patterns_in_exp</strong> – The minimum amount of patterns of
every class that must be assigned to every experience. Compatible
with the <code class="docutils literal notranslate"><span class="pre">balance_experiences</span></code> parameter. An exception will be
raised if this constraint can’t be satisfied. Defaults to 0.</p></li>
<li><p><strong>fixed_exp_assignment</strong> – If not None, the pattern assignment
to use. It must be a list with an entry for each experience. Each
entry is a list that contains the indexes of patterns belonging to
that experience. Overrides the <code class="docutils literal notranslate"><span class="pre">shuffle</span></code>, <code class="docutils literal notranslate"><span class="pre">balance_experiences</span></code>
and <code class="docutils literal notranslate"><span class="pre">min_class_patterns_in_exp</span></code> parameters.</p></li>
<li><p><strong>reproducibility_data</strong> – If not None, overrides all the other
scenario definition options, including <code class="docutils literal notranslate"><span class="pre">fixed_exp_assignment</span></code>.
This is usually a dictionary containing data used to
reproduce a specific experiment. One can use the
<code class="docutils literal notranslate"><span class="pre">get_reproducibility_data</span></code> method to get (and even distribute)
the experiment setup so that it can be loaded by passing it as this
parameter. In this way one can be sure that the same specific
experimental setup is being used (for reproducibility purposes).
Beware that, in order to reproduce an experiment, the same train and
test datasets must be used. Defaults to None.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario.n_classes">
<span class="sig-name descname"><span class="pre">n_classes</span></span><em class="property"> <span class="pre">:int</span></em><a class="headerlink" href="#avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario.n_classes" title="Permalink to this definition"></a></dt>
<dd><p>The amount of classes in the original training set.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario.n_patterns_per_class">
<span class="sig-name descname"><span class="pre">n_patterns_per_class</span></span><em class="property"> <span class="pre">:List[int]</span></em><a class="headerlink" href="#avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario.n_patterns_per_class" title="Permalink to this definition"></a></dt>
<dd><p>The amount of patterns for each class in the original training set.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario.n_patterns_per_experience">
<span class="sig-name descname"><span class="pre">n_patterns_per_experience</span></span><em class="property"> <span class="pre">:List[int]</span> <span class="pre">=</span> <span class="pre">[]</span></em><a class="headerlink" href="#avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario.n_patterns_per_experience" title="Permalink to this definition"></a></dt>
<dd><p>The number of patterns in each experience.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario.exp_structure">
<span class="sig-name descname"><span class="pre">exp_structure</span></span><em class="property"> <span class="pre">:List[List[int]]</span> <span class="pre">=</span> <span class="pre">[]</span></em><a class="headerlink" href="#avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario.exp_structure" title="Permalink to this definition"></a></dt>
<dd><p>This field contains, for each training experience, the number of
instances of each class assigned to that experience.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario.train_exps_patterns_assignment">
<span class="sig-name descname"><span class="pre">train_exps_patterns_assignment</span></span><a class="headerlink" href="#avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario.train_exps_patterns_assignment" title="Permalink to this definition"></a></dt>
<dd><p>A list containing which training instances are assigned to each
experience in the train stream. Instances are identified by their id
w.r.t. the dataset found in the original_train_dataset field.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario.get_reproducibility_data">
<span class="sig-name descname"><span class="pre">get_reproducibility_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../../../../../_modules/avalanche/benchmarks/scenarios/new_instances/ni_scenario/#NIScenario.get_reproducibility_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario.get_reproducibility_data" title="Permalink to this definition"></a></dt>
<dd><p>Gets the data needed to reproduce this experiment.</p>
<p>This data can be stored using the pickle module or some other mechanism.
It can then be loaded by passing it as the <code class="docutils literal notranslate"><span class="pre">reproducibility_data</span></code>
parameter in the constructor.</p>
<p>Child classes should create their own reproducibility dictionary.
This means that the implementation found in <code class="xref py py-class docutils literal notranslate"><span class="pre">GenericCLScenario</span></code>
will return an empty dictionary, which is meaningless.</p>
<p>In order to obtain the same benchmark instance, the reproducibility
data must be passed to the constructor along with the exact same
input datasets.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A dictionary containing the data needed to reproduce the
experiment.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIExperience">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">avalanche.benchmarks.scenarios.new_instances.ni_scenario.</span></span><span class="sig-name descname"><span class="pre">NIExperience</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">origin_stream</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">GenericScenarioStream</span><span class="p"><span class="pre">[</span></span><span class="pre">'NIExperience'</span><span class="p"><span class="pre">,</span> </span><a class="reference internal" href="#avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario" title="avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIScenario"><span class="pre">NIScenario</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">current_experience</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../../../../_modules/avalanche/benchmarks/scenarios/new_instances/ni_scenario/#NIExperience"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#avalanche.benchmarks.scenarios.new_instances.ni_scenario.NIExperience" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">GenericExperience[NIScenario,</span> <span class="pre">GenericScenarioStream['NIExperience',</span> <span class="pre">NIScenario]]</span></code></p>
<p>Defines a “New Instances” experience. It defines fields to obtain the
current dataset and the associated task label. It also keeps a reference
to the stream from which this experience was taken.</p>
<p>Creates a <code class="docutils literal notranslate"><span class="pre">NIExperience</span></code> instance given the stream from this
experience was taken and and the current experience ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>origin_stream</strong> – The stream from which this experience was
obtained.</p></li>
<li><p><strong>current_experience</strong> – The current experience ID, as an integer.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, ContinualAI.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>